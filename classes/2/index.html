<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="../../dist/reset.css">
		<link rel="stylesheet" href="../../dist/reveal.css">
		<link rel="stylesheet" href="../../dist/theme/solarized.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="../../plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
                <section>
                    <h1 class="r-fit-text">2. Tipos de datos básicos, control de flujo y funciones</h1>
					<small>Esta va a ser una clase con bastante contenido, so lock in</small>
                </section>
				
				<section style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
					<h3>En la clase de hoy veremos...</h3>
					<div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px;">
					  <div class="fragment" style="flex: 1; text-align: center;">
						<p>¿Qué <b>tipos de variables básicas</b> están disponibles y qué podemos hacer con ellas?</p>
						<img src="../../media/2/variables_meme.jpg" alt="Meme 1">
					  </div>
					  <div class="fragment" style="flex: 1; text-align: center;">
						<p>¿Cómo organizar el código en <b>funciones</b> y estructuras de <b>control de flujo</b>?</p>
						<img src="../../media/2/control_flow.png" alt="Meme 2">
					  </div>
					  <div class="fragment" style="flex: 1;  text-align: center;">
						<p>¿De qué <b>estructuras de datos</b> dispone Python?</p>
						<img src="../../media/2/data_struct.png" alt="Meme 3">
					  </div>
					</div>
				</section>

				<section style="display: flex; flex-direction: column; align-items: left; gap: 20px;">
					<h3>Variables en Python</h3>
					<div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px;">
						<div style="flex: 2; text-align: left;">
							<ul>
								<li>No hace falta declarar variables antes de usarlas, ni especificar su tipo</li>
								<li><b>Tipado dinámico</b></li>
								<li>Podemos usar <span style="font-family: monospace;">type()</span> para ver qué tipo tenemos en cada variable</li>
								<li>Formato específico: los nombres de variables no pueden contener espacios y no pueden empezar con números ni con <span style="font-family: monospace;">__</span></li>
								<li>No hay constantes como tal, el convenio para escribir variables que no deberían cambiar es en mayúsculas</li>
							</ul>
						</div>
						<div  style="flex: 2; text-align: left;">
							<pre><code class="python">
	int x = 5	    				# Error!
	x = 5		    
	x = "test"						# Podemos cambiar el tipo de x
	type(x)								# &lt;class 'str'&gt;
	
	numero pi = 3.1415  	# Error!
	numero_pi = 3.1415

	1numero = 5						# Error!
	numero1 = 5

	SPEED_OF_LIGHT = 299_792_458	# Constante
	
							</code></pre>
						</div>
					</div>
				</section>
				<section style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
					<h3>Tipos de datos numéricos</h3>
					<div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px;">
						<div style="flex: 2; text-align: left;">
							Existen varios tipos:
							<br>
							<ul>
								<div class="fragment">
									<li>$a \in \mathbb{Z} \rightarrow $ <span style="font-family:monospace;">int</span></li>
									Al contrario que en otros lenguajes, no hay ningún límite en el tamaño de los enters, pero fuera de $[-2^{63}, 2^{63}]$
									las operaciones serán mucho más lentas. Para números grandes podemos usar: <span style="font-family:monospace;">x = 10_000_000_000</span>
								</div>
								<div class="fragment">
									<li>$a \in \mathbb{R} \rightarrow $ <span style="font-family:monospace;">float</span></li> 
									La representación es en punto flotante de doble precisión (números máquina $\neq \mathbb{R}$).
								</div>

								<div class="fragment">
									<li>$a \in \mathbb{C} \rightarrow $ <span style="font-family:monospace;">complex</span></li>
									Se comportan igual que un par de floats, pero podemos usar operaciones de números complejos, Python
									usa la unidad imaginaria j en vez de i, por ejemplo $a = 3 + 5j$.
								</div>
							</ul>
							<br>
							<br>
							<div class="fragment">
								Las interacciones entre <span style="font-family:monospace;">int</span> y <span style="font-family:monospace;">float</span> son automáticas, 
								por ejemplo al sumar un <span style="font-family:monospace;">int</span> y un <span style="font-family:monospace;">float</span> el resultado será un <span style="font-family:monospace;">float</span>.	
							</div>

						</div>
					</div>
				</section>
				
				<section style="display: flex; flex-direction: column; align-items: left; gap: 20px;">
					<h3>Operadores aritméticos</h3>
					<div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px;">
						<div style="flex: 2; text-align: left;">
							<ul>
								<li><span style="font-family:monospace;">{+, -, *, /}</span> operaciones usuales</li>
								<li><span style="font-family:monospace;">{//, %}</span> implementan la división entera y el resto</li>
								<li><span style="font-family:monospace;">**</span> es la exponenciación. También podemos usar la función <span style="font-family:monospace;">pow(x, y)</span></li>
								<li> Todos estos operadores pueden ser combinados con <span style="font-family:monospace;">==</span> para operar sobre la variable</li>
							</ul>
							Las reglas de precedencia entre operadores son las mismas que en matemáticas, pero podemos usar paréntesis para forzar el orden de las operaciones.
							(Mucha) más información en: <a href="https://docs.python.org/3/reference/expressions.html#operator-precedence" target="_blank">docs.python.org</a>
						</div>
						<div  style="flex: 2; text-align: left;">
							<pre><code class="python">
	x, y, z = 5, 3, 2

	print((x + y) * z / 4)			# 4.0 type(int/int) = float
	print(x // y)								# 1 type(int // int) = int
	print(x % y)								# 2
	print(x ** y)								# 125
	print(pow(1j, 2))						# (-1+0j)
	
	x = 5
	x += 1					# x ahora es 6
	y = 10**4				# 10000
							</code></pre>
						</div>
					</div>
				</section>
				
				<section style="display: flex; flex-direction: column; justify-content: space-between;">
					<div style="display: flex; gap: 2rem; align-items: flex-start;">
					  <h2>"Strings"</h2>
					  <span style="text-align: left;">
						Una <span style="font-family: monospace;">string</span> (o cadena) no es mas que una secuencia de carácteres, por ejemplo,
						una palabra, frase, o línea de un archivo de texto.
					  </span>

					</div>
					<div style="display:flex; flex-direction: column; text-align: left;">
						<span>Existen varias formas de definir strings:</span>

						<div style="display: flex; flex-direction: row; align-items: flex-start; margin-top: 2rem; gap:50px; justify-content: space-between;">
						<pre><code>
		x = "Matemáticas " 	# Comillas simples
		y = 'USC'						# Comillas dobles
		
		# Si queremos poner comillas dentro de un string, podemos usar el otro tipo
		quotes_str = 'se nos acabó el "chollo"'
		
		# Comillas triples para strings multilínea
		z = """wow I really love
		studying here at the
		USC"""
						</code></pre>
						<img src="/media/2/string_rust_vs_python.png" width="300px">
						</div>
				</div>
				</section>
				<section>
					<h3>Strings: slicing</h3>
					<p style="text-align: left;">
						Podemos acceder a subcadenas (y a los elementos de muchas otras estructuras de datos) de una string con el operador <span style="font-family:monospace;">[]</span>. 
						Los índices de strings (y de arrays, listas, ...) están en el rango $[0, len(s)-1]$ <span style="font-size: 1rem;">(Python >> MATLAB)</span>
					</p>
					<pre><code class="python">
	x = "Hola"
	print(x[0])		# H
	print(x[1])		# o
	print(x[0], x[1], x[2], x[3]) 	# H o l a	
					</code></pre>
					<p style="text-align: left;">También podemos usar [:] para especificar un rango de índices</p>
					<pre><code class="python">
	print(x[1:3])		# ol
	print(x[:2])		# Ho
	print(x[2:])		# la
					</code></pre>
					<p style="text-align: left;">El slicing en Python es muy flexible, podemos usar <b>índices negativos</b> que empiezan a contar desde el final de la string:</p>
					<pre><code class="python">
	x = "índices negativos"
	print(x[-1])			# s    (último carácter)	
	print(x[-2:])			# os   (desde el penúltimo hasta el final)
	print(x[1:-1])		# ndices negativo (desde el segundo hasta el penúltimo)
				</code></pre>
				</section>
				
				<section>
					<h3>Strings: métodos estándar</h3>
					<p>La librería estándar de Python provee muchos métodos útiles para trabajar con strings:</p>
					<img src="../../media/2/string-methods.jpg" alt="Métodos de strings">
					<p>
						Esta imagen ni siquiera está completa, por lo que solo veremos algunos de los métodos más útiles, por supuesto la referencia completa está en: 
						<a href="https://docs.python.org/3/library/stdtypes.html#string-methods" target="_blank">docs.python.org</a>
					</p>
				</section>
				<section style="height: 100%;">
					<h3>Strings: métodos estándar</h3>
					<p>Aquí se ve uno de los puntos fuertes de Python: los nombres de las cosas tienen sentido.</p>
					<pre><code class="python" data-line-numbers="2-7|9-15|17-24|27-33|35-40">
						ada = "ada lovelace"
						# Métodos para cambiar capitalización
						print(ada.capitalize())		# Ada lovelace
						print(ada.upper())			# ADA LOVELACE
						print(ada.title())			# Ada Lovelace
						print("C++".lower())		# c++
						
						# Métodos para buscar subcadenas
						print(ada.startswith("ada"))	# True
						print(ada.endswith("lace"))		# True
						# Para encontrar el primer índice de una subcadena dentro de otra, usamos find
						print(ada.find("love"))			# 4
						# Si no se encuentra, find devuelve -1
						print(ada.find("python"))		# -1

						# Métodos para reemplazar subcadenas
						print(ada.replace("lovelace", "hopper"))	# ada hopper
						print(ada.replace("a", "A"))							# AdA lovelAce
						# ...y también para eliminar espacios al principio/final
						padded = "   turbo padded string   "
						print(padded.strip())			# turbo padded string
						print(padded.lstrip()) 		# turbo padded string   
						print(padded.rstrip())		#    turbo padded string


						# Métodos para dividir y unir strings
						print(ada.split())		# ["ada", "lovelace"] <-- convierte la string a una lista, estructura que veremos más adelante

						print(" ".join(["ada", "lovelace"]))	# ada lovelace

						# .join() es un método muy interesante, veremos más adelante otros ejemplos como el siguiente:
						print(", ".join([str(i) for i in range(10)]))  # 0, 1, 2, 3, 4, 5, 6, 7, 8, 9
						
						# Métodos para comprobar si una string es de cierto tipo
						print("123".isdigit())		# True
						print("abc".isalpha())		# True
						print("😶‍🌫️".isalnum())		# False
						print("ABC".islower())		# False
					</code></pre>

					Los métodos se pueden encadenar y se ejecutan en el orden en el que se escriben, por ejemplo:
					<pre><code class="python">
	print("   hola   ".strip().capitalize())	# Hola
					</code></pre>
						
				</section>
				<section>
					<h3>Strings: "fun" facts</h3>
					<div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
						
						<!-- Escape Characters -->
						<div style="text-align: left;" class="fragment">
							<span>Algunos carácteres tienen un significado especial en Python: los podemos escapar con "\":</span>
							<pre><code class="python">
	print("instagram\nreels")		# instagram
															# reels
	print("value:\t10")        	# value:    10
	print("hello\"world\"")     # hello "world"
	print("C:\\Users\\pablo")   # C:\Users\pablo
							</code></pre>
						</div>
				
						<!-- Unicode & Emojis -->
						<div style="text-align: left;" class="fragment">
							<p>Se pueden usar carácteres de todo tipo en strings!</p>
							<pre><code class="python">
	epic_string = "🐉 传说中的龙在烈焰中飞翔，守护着远古的宝藏 🔥🏮✨"  
	print(epic_string)
							</code></pre>
						</div>
				
						<!-- String Operators -->
						<div style="text-align: left;" class="fragment">
							<span>Podemos usar los operadores aritméticos <code>+</code> y <code>*</code> con strings:</span>
							<pre><code class="python">
	print("Hola" + " mundo")  # Hola mundo
	print("Hola" * 3)         # HolaHolaHola
							</code></pre>
						</div>
				
						<!-- String Immutability -->
						<div style="text-align: left;" class="fragment">
							Las strings son <b>inmutables</b>!<br> 
							<small>(Por razones de eficiencia, seguridad, etc.)</small>
							<pre><code class="python">
	x = "Hola"
	x[0] = "h"  # Error!
	
	# Cuando "modificamos" una variable con una string, 
	# solo estamos copiandola y reasignandola a una nueva string
	x = x + " mundo"
							</code></pre>
						</div>
				
					</div>
				</section>
				
				<!--TODO: al final de lo demás podemos poner más detalles sobre f-strings-->
				<section>
					<h3>f-strings</h3>
					<ul>
						<li>Úitles para imprimir tablas de contenido, formatear fecha y hora</li>
						<li>También hacen más sencillo encontrar bugs!</li>
						<li>Sintaxis muy sencilla:  <span style="font-family: monospace;"> <b>  f</b>"texto normal {expresión} ..."</span></li>
						<li>Muchos indicadores de formato adicionales: <a href="https://fstring.help/cheat/" target="_blank" >cheat sheet</a></li>
					</ul>
					<div class="fragment">
						<pre><code class="python">
	x, y, cheese = 2, 3, "we ❤️ cheese"
	print(f"La suma de {x} y {y} es {x + y}")
	print(f"La longitud de la string es {len(cheese)}") 

	print(f"El número pi con 3 decimales es {3.141592653589793:.3f}")   # 3.142 (usa redondeo)
	print(f"La constante de gravitación universal es {6.67430e-11:.2e}") # 6.67e-11
	print(f"Hexadecimal: {255:x}, Octal: {255:o}, Binario: {255:b}")    # ff, 377, 11111111

	# Alinear texto: útil para imprimir tablas
	print(f"{'Álbum':&lt;20} {'Año':&lt;10} {'Género':&lt;15}") 										# Álbum               Año       Género      
	print(f"{'OK Computer':&lt;20} {'1997':&lt;10} {'Alternative Rock':&lt;15}") 	# OK Computer         1997      Alternative Rock
	print(f"{'Kid A':&lt;20} {'2000':&lt;10} {'Art Rock':&lt;15}") 								# Kid A               2000      Art Rock        
	print(f"{'In Rainbows':&lt;20} {'2007':&lt;10} {'Alternative Rock':&lt;15}") 	# In Rainbows         2007      Alternative Rock     
						</code></pre>
					</div>
				</section>
				<section>
					<h1>Estructuras de datos</h1>
				</section>
				<section>
					<div style="display: flex; flex-direction: row; gap: 30px; align-items: flex-start;"> 
						<h2>Listas</h2>
						<p style="text-align: left; margin: 0;">Las listas son una de las estructuras más simples y flexibles del lenguaje, y actúan de forma similar a los arrays de otros lenguajes: <span style="font-family: monospace;">lista = [1, "python", [1,3]]</span></p>
					</div>
					<ul>
						<li>Colección de elementos <b>ordenada</b></li>
						<li>Los elementos pueden ser <b>cualquier</b> cosa (incluso otras listas o estructuras)</li>
						<li>Se definen con corchetes y se accede a sus elementos de forma similar a los arrays o vectores de otros lenguajes</li>
					</ul>
					<pre><code class="python">
	# Crear una lista
	lista = [1, 1, 2, 3]
	# Añadir elementos
	lista.append(5)
	# Acceder a elementos, mismas reglas que con strings
	print(lista[0])		# 1
	print(lista[-1])	# 5
	# Slicing
	print(lista[1:3])	# [1, 2]
	# Modificar elementos
	lista[0] = 0
	# Eliminar elementos
	del lista[1]
				</code></pre>
				</section>
				<section>
					<h3>Listas</h3>
					<div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
						<div style="display: flex; text-align: left; flex-direction: column; gap:20px; align-items: flex-start;" class="fragment">
							<p style="margin: 0;">Hay muchas formas de usarlas, por ejemplo pueden comportarse como pilas, <em>Last In, First out</em>:</p>
							<pre style="margin: 0"><code class="python" >
	stack = []
	stack.append(1)
	stack.append(2)
	stack.append(3)
	print(stack.pop())	# 3
	print(stack.pop())	# 2
	print(stack.pop())	# 1
							</code></pre>
						</div>
						<div style="display: flex; text-align: left; flex-direction: column; gap:20px;" class="fragment">
							<p style="margin: 0">Se pueden inicializar de muchas formas:</p>
							<pre style="margin: 0"><code class="python" >
	lista = list(1, 2, 3)   # [1, 2, 3]
	lista = list(range(10)) # [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
	lista = list("hola")    # ['h', 'o', 'l', 'a']
	lista = [0] * 10				# [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
						</code></pre>
						<br>
						<em>Una pequeña nota: El auténtico poder de las listas y otras estructuras de datos se ve cuando las combinamos con bucles y funciones, algo que veremos más adelante.</em>
						</div>
					</div>
				</section>
				<section>
					<h3>Listas</h3>
					<p style="text-align: left;">Por supuesto, podemos ordenar los elementos:</p>
					<pre><code class="python">
	lista = [3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5]
	lista.sort() 
	print(lista) 	# [1, 1, 2, 3, 3, 4, 5, 5, 5, 6, 9]
	sms = ["USC Notas", "Lenguaje matemático", "4.9", "Suspenso"]
	sms.sort() 
	print(sms) 		# ['4.9', 'Lenguaje matemático', 'Suspenso', 'USC Notas'] (orden alfanumérico)


	# Pero cuidado con ordenar listas heterogéneas!
	sms = ["USC Notas", "Lenguaje matemático", 4.9, "Suspenso"]
	sms.sort()	# Error!
					</code></pre>
					<br>
					<p style="text-align: left;">Y también podemos hacer otras operaciones como invertir el orden:</p>
					<pre><code class="python">
	lista = [3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5]
	lista.reverse()
	print(lista)	# [5, 3, 5, 6, 2, 9, 5, 1, 4, 1, 3]
					</code></pre>
				</section>
				<section>
					<div style="display: flex; flex-direction: row; gap: 30px; align-items: flex-start;"> 
						<h2>Tuplas</h2>
						<p style="text-align: left; margin: 0;">Las tuplas son una estructura curiosa, se comportan de forma similar a las listas pero son <b>inmutables</b>: <span style="font-family: monospace;">tupla = (1, "python", [1,3])</span></p>
					</div>
					<ul>
						<li>Se pueden definir con o sin paréntesis</li>
						<li>Su uso principal: poder declarar varias variables en una sola línea</li>
						<li>También se usan para poder devolver varias variables en una función (más adelante...)</li>
					</ul>
					<pre><code class="python">
	tupla = (1, 1, 2, 3)
	print(tupla[0])
	print(tupla[-1])

	# No se pueden modificar elementos!
	tupla[0] = 0		# Error!

	# Assignments múltiples (todo esto son tuplas, se podrían escribir con paréntesis)
	x, y = 1, 2
	x, y = y, x
	print(x, y)		# 2 1
					</code></pre>
				</code></pre>
				</section>
		</div>

		<script src="../../dist/reveal.js"></script>
		<script src="../../plugin/notes/notes.js"></script>
		<script src="../../plugin/math/math.js"></script>
		<script src="../../plugin/markdown/markdown.js"></script>
		<script src="../../plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,
				katex: {
					version: 'latest',
					delimiters: [
					{ left: '$$', right: '$$', display: true },
					{ left: '$', right: '$', display: false },
					{ left: '\\(', right: '\\)', display: false },
					{ left: '\\[', right: '\\]', display: true },
					],
					ignoredTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
				},
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.KaTeX ]
			});
		</script>
	</body>
</html>
